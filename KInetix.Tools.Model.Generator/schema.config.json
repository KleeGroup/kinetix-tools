{
  "$id": "modgen.config.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "description": "Fichier de config du générateur",
  "additionalProperties": false,
  "properties": {
    "modelRoot": {
      "type": "string",
      "description": "Chemin du dossier racine qui contient tous les fichiers YML du modèle, qui seront chargés par le générateur (à l'exception du fichier de domaines qui est chargé à part). Si non renseigné, le dossier contenant le fichier de config sera utilisé."
    },
    "domains": {
      "type": "string",
      "description": "Chemin du fichier de domaines. Si non renseigné, 'domains.yml' sera utilisé."
    },
    "initLists": {
      "type": "string",
      "description": "Chemin du fichier contenant les initialisations de listes de références."
    },
    "proceduralSql": {
      "type": "object",
      "description": "Config pour la génération de SQL 'procédurale' (sans SSDT)",
      "additionalProperties": false,
      "properties": {
        "targetDBMS": {
          "type": "string",
          "description": "SGBD cible ('postgre' ou 'sqlserver').",
          "enum": [ "sqlserver", "postgre" ]
        },
        "crebasFile": {
          "type": "string",
          "description": "Emplacement du fichier de création de base."
        },
        "ukFile": {
          "type": "string",
          "description": "Emplacement du fichier de création des index uniques."
        },
        "indexFKFile": {
          "type": "string",
          "description": "Emplacement du fichier de création des clés étrangères."
        },
        "typeFile": {
          "type": "string",
          "description": "Emplacement du fichier de création des types."
        },
        "initListFile": {
          "type": "string",
          "description": "Emplacement du script d'insertion des données des listes de référence."
        },
        "disableIdentity": {
          "type": "boolean",
          "description": "Désactive les colonnes d'identité."
        }
      }
    },
    "ssdt": {
      "type": "object",
      "description": "Config pour la génération SSDT",
      "additionalProperties": false,
      "properties": {
        "tableScriptFolder": {
          "type": "string",
          "description": "Dossier du projet pour les scripts de déclaration de table."
        },
        "tableTypeScriptFolder": {
          "type": "string",
          "description": " Dossier du projet pour les scripts de déclaration de type table."
        },
        "initListScriptFolder": {
          "type": "string",
          "description": "Dossier du projet pour les scripts d'initialisation des listes de références."
        },
        "initListMainScriptName": {
          "type": "string",
          "description": "Fichier du projet référençant les scripts d'initialisation des listes de références."
        },
        "logScriptTableName": {
          "type": "string",
          "description": "Nom de la table où stocker l'historique de passage des scripts."
        },
        "logScriptVersionField": {
          "type": "string",
          "description": "Nom du champ où stocker le nom des scripts exécutés."
        },
        "logScriptDateField": {
          "type": "string",
          "description": "Nom du champ où stocker la date d'exécution des scripts."
        }
      }
    },
    "csharp": {
      "type": "object",
      "description": "Configuration de la génération de C#. Si non renseigné, alors le C# ne sera pas généré.",
      "additionalProperties": false,
      "properties": {
        "outputDirectory": {
          "type": "string",
          "description": "Répertoire de génération"
        },
        "dbContextProjectPath": {
          "type": "string",
          "description": "Nom du projet dans lequel mettre le DbContext."
        },
        "useTypeSafeConstValues": {
          "type": "boolean",
          "description": "Utilise des types spécifiques pour les valeurs de listes statiques, au lieu de string."
        },
        "dbSchema": {
          "type": "string",
          "description": "Le nom du schéma de base de données à cibler (si non renseigné, EF utilise 'dbo')."
        },
        "kinetix": {
          "type": "string",
          "description": "Version de kinetix utilisée: Core, Framework ou Fmk.",
          "enum": [ "Core", "Framework", "Fmk" ]
        },
        "legacyIdentity": {
          "type": "boolean",
          "description": "Définit un mode legacy pour Identité en .NET Framework."
        },
        "noColumnOnAlias": {
          "type": "boolean",
          "description": "Retire les attributs de colonnes sur les alias."
        },
        "isWithEntityInterface": {
          "type": "boolean",
          "description": "Définit si les interfaces IEntity sont ajoutée à la génération."
        },
        "legacyProjectPaths": {
          "type": "boolean",
          "description": "Utilise la structure de projet legacy."
        }
      }
    },
    "javascript": {
      "type": "object",
      "description": "Configuration de la génération de Typescript. Si non renseigné, alors le Typescript ne sera pas généré.",
      "additionalProperties": false,
      "properties": {
        "modelOutputDirectory": {
          "type": "string",
          "description": "Chemin vers le dossier racine vers lequel générer les fichiers de modèle. Si non renseigné, aucun modèle ne sera généré."
        },
        "resourceOutputDirectory": {
          "type": "string",
          "description": "Chemin vers le dossier racine vers lequel générer les fichiers de ressources i18n. Si non renseigné, aucun fichier de sera généré."
        }
      }
    }
  }
}
